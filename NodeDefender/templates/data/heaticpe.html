{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            Data <small>Heat</small>
        </h1>
        <ol class="breadcrumb">
					<li class="">
						<i class="fa fa-database"></i> Data
					</li>
					<li>
						<a href="{{url_for('DataHeat')}}">Heat</a>
					</li>
					<li class="active">
					{{ icpe.mac }}
          </li>
       </ol>
    </div>
</div>
<div class="row">
	<div class="col-lg-12">
		<h1>Graph</h1>
			<div class="box" style="padding: 0;">
				<div id="HeatChart" style="height: 400px;"></div>
			</div>			
	</div>
</div>

<div class="row">
		<div class="col-lg-12">
			<h1>Nodes</h1>
				<div class="box" style="padding: 0;">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Node Alias</th>
								<th>Current Heat</th>
								<th>Daily Avarage</th>
								<th>Weekly Avarage</th>
								<th>Monthly Avarage</th>
							</tr>
						</thead>
						<tbody>
					{% for node in icpe.znodes %}
					<tr>
						<td>
							<a href="{{url_for('DataHeatiCPENode', mac = icpe.mac, nodeid = node.nodeid)}}">
									{{ node.alias }}
							</a>
						</td>
						<td>
							-	
						</td>
						<td>
							-
						</td>
						<td>
							-
						</td>
						<td>
							-
						</td>
					</tr>
					{% endfor %}
					</tbody>
				</table>
		</div>
	</div>
</div>
<script>
$(document).ready(function() {
new Morris.Line({
	element: 'HeatChart',

	data: [
	{% for heatstat in icpe.heatstat[-30:] %}
	{x: '{{heatstat.date}}', value: {{'%0.2f' % heatstat.heat|float }} },
	{% endfor %}
	],

	xkey : 'x',
	ykeys : ['value'],
	labels : ['Celsius']
});
});
</script>



{% endblock %}
