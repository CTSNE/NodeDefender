{% macro SensorBox(sensor) %}
<div class="col-lg-2">
	<h3 style="max-width: 80%;">
		{{ znode['Alias'] }}
		<a href="#" data-toggle="modal" data-target="#PopCFG{{znode['nodeid']}}" style="position: absolute; right: 0; margin-right: 1vw;">
			<i class="fa fa-cog" aria-hidden="true"></i>
		</a>
	</h3>
  <div class="box">
		<form name="#" class="form-horizontal" method="#">
		{% for field in znode['fields'] %}
		{% if field['display'] == True %}
		<div class="form-group">
			<label class="col-sm-2 control-label">{{field['attribute']}}</label>
			<div class="col-sm-5 col-sm-offset-5">
				{% if field['type'] == 'checkbox' %}
				{% if field['readonly'] %}
				<label class="lightbox {% if field['value'] %} lightboxlight {% endif %} asdf" id="{{znode['nodeid']}}{{field['attribute']}}"></label>
				{% else %}
				<label class="switch">
					<input type="checkbox" id="{{znode['nodeid']}}{{field['attribute']}}" {% if field['value'] %} checked{% endif %} onclick="checkboxChange(this, '{{iCPE.mac}}', '{{znode['nodeid']}}','{{field['attribute']}}');">
					<div class="slider"></div>
				</label>
				{% endif %}
				{% else %}
				<p id="{{znode['nodeid']}}{{field['attribute']}}">{{field['value']}}</p>
				{% endif %}
			</div>
		</div>
		{% endif %}
		{% endfor %}
		</form>
	</div>
</div>
{% endmacro %}

{% macro SensorModal(sensor) %}
{% from "macro/form.html" import render_field %}
<div class="modal fade" id="PopCFG{{znode['nodeid']}}" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">{{znode['Alias']}}</h4>
			</div>
			<div class="modal-body">
				<h3>Static values</h3>
				<table class="table">
					<thead>
					</thead>
					<tbody>
						<tr>
							<td>Brandname</td>
							<td>{{ znode['Brandname'] }}</td>
						</tr>
						<tr>
							<td>Productname</td>
							<td>{{ znode['Productname'] }}</td>
						</tr>
						<tr>
							<td>Generic Class</td>
							<td>{{ znode['Generic Class'] }}</td>
						</tr>
					</tbody>
				</table>
					<h3>Modify values</h3>
				<form method="POST" action="{{url_for('NodesNodeConfigure', mac=mac, nodeid=znode.nodeid)}}">
					{{ NodeBasicForm.csfr_token }}
					{{ NodeBasicForm.hidden_tag() }}
					{{ render_field(SensorForm.Alias) }}
					{{ render_field(SensorForm.Submit) }}
				</form>
				<h3>Supported classes</h3>
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Class</th>
							<th>Attribute</th>
							<th>Display</th>
						</tr>
					</thead>
					<tbody>
						{% for field in znode['fields'] %}
						<tr>
							<td>
								{{ field['class'] }}
							</td>
							<td>
								{{ field['attribute'] }}
							</td>
							<td>
								{% if field['display'] %}
								<a href="{{url_for('NodesNodeClassHide', mac=mac, nodeid=znode['nodeid'], cls=field['class'], field = field['attribute'])}}"><button class="btn btn-default">Hide</button></a>
								{% else %}
								<a href="{{url_for('NodesNodeClassDisplay', mac=mac, nodeid=znode['nodeid'], cls=field['class'], field = field['attribute'])}}"><button class="btn btn-default">Display</button></a>
								{% endif %}
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>	
					<h4>Unsupported Classses</h4>
				<p>
				{% for class in znode['unsupported'] %}
					{{class.commandclass}} 
				{% endfor %}
				</p>
			</div>
		</div>
	</div>
</div>
{% endmacro %}
