{% macro General(iCPE) %}
<div class="box" style="height: 200px;">
	<h4><strong>Information <a href="#" data-toggle="modal" data-target="#iCPEInfo"><i class="fa fa-info" aria-hidden="true" style="position: absolute; right: 0; margin-right: 2vw"></i></a></strong></h4>
	<br>
	<h4><strong>Notebook <a href="#" data-toggle="modal" data-target="#NoteBook"><i class="fa fa-book" aria-hidden="true" style="position: absolute; right: 0; margin-right: 2vw;"></i></a></strong></h4>
	<h4><strong>Sticky Note: <a href="#" data-toggle="modal" data-target="#StickyNote"><i class="fa fa-pencil" aria-hidden="true" style="position: absolute; right: 0; margin-right: 2vw"></i></a></strong></h4>
	<p>{{iCPE.notesticky}}</p>
</div>
{{ ModaliCPEInfo(iCPE) }}
{{ ModalNotebook(iCPE) }}
{{ ModalStickyNote(iCPE) }}
{% endmacro %}

{% macro Technical() %}
<div class="box" style="height: 200px;">
	<div class="row">
		<a href="{{ url_for('NodesUpdate', mac=mac) }}" class="col-lg-4" data-toggle="tooltip" title="Update known Z-Wave devices">
			<i class="fa fa-refresh fa-3x" aria-hidden="true"></i>
    </a>
		<a href="{{ url_for('NodesInclude', mac=mac) }}" class="col-lg-4" data-toggle="tooltip" title="Include Z-Wave device">
			<i class="fa fa-sign-in fa-3x" aria-hidden="true"></i>
    </a>
		<a href="{{ url_for('NodesExclude', mac=mac) }}" class="col-lg-4" data-toggle="tooltip" title="Exclude Z-Wave device">
			<i class="fa fa-sign-out fa-3x" aria-hidden="true"></i>
    </a>
  </div>
  <br>
  <h4><strong>Connection:</strong> <small> - </small></h3>
  <br>
  <h4><strong>Battery:</strong> <small> - </small></h3>
</div>
{% endmacro %}

{% macro ModaliCPEInfo(iCPE) %}
<div class="modal fade" id="iCPEInfo" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h2 class="modal-title">Information</h2>
			</div>
			<div class="modal-body">
				<table class="table">
					<thead>
					</thead>
					<tbody>
						<tr>
							<td>Alias</td>
							<td>{{iCPE.alias}}</td>
						</tr>
						<tr>
							<td>Mac</td>
							<td>{{iCPE.mac}}</td>
						</tr>
						<tr>
							<td>Street</td>
							<td>{{iCPE.location.street}}</td>
						</tr>
						<tr>
							<td>City</td>
							<td>{{iCPE.location.city}}</td>
						</tr>
						<tr>
							<td>Created</td>
							<td>{{moment(iCPE.created_on).format('Do MMM YYYY, HH:mm:ss')}}</td>
						<tr>
							<td>Last Online</td>
							<td>{{moment(iCPE.last_online).format('Do MMM YYYY, HH:mm:ss')}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
{% endmacro %}

{% macro ModalNotebook(iCPE) %}
<div class="modal fade" id="NoteBook" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h2 class="modal-title">Notebook</h2>
			</div>
			<div class="modal-body">
				{% for note in iCPE.notes|sort(attribute='created_on', reverse=True) %}
				<p style="width: 100%">{{note.author}} <span style="position: absolute; right: 0; margin-right: 1vw;">{{moment(note.created_on).format('Do MMM YYYY, HH:mm:ss')}}</span></p>
				<p style="width: 100%;padding: 0.2vw; background-color: #f5f5f5">{{note.note}}</p>
				{% endfor %}
				<form action="{{url_for('NodesNotesAdd', mac=mac)}}" method="post" class="form-horizontal">
					<div class="form-group" style="margin: 1vw;">
						<label for="notes">Enter note</label>
						<input type="text" max-length="150" class="form-control" name="note"></input>
						<button type="submit" class="btn btn-default">Submit</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endmacro %}

{% macro ModalStickyNote(iCPE) %}
<div class="modal fade" id="StickyNote" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h2 class="modal-title">Modify Note</h2>
			</div>
			<div class="modal-body">
				<form action="{{url_for('NodesNoteSticky', mac=mac)}}" method="post" class="form-horizontal">
					<input type="text" max-length="150" class="form-control" name="note" value="{{iCPE.notesticky}}"></input>
					<button type="submit" class="btn btn-default">update</button>
				</form>
			</div>
		</div>
	</div>
</div>
{% endmacro %}
